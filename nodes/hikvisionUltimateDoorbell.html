<script type="text/javascript">
	RED.nodes.registerType('hikvisionUltimateDoorbell', {
		category: 'Hikvision Ultimate',
		color: '#C0C0C0',
		defaults: {
			name: { value: "" },
			topic: { value: "" },
			server: { type: "Doorbell-config", required: true },
			ringStatus: { value: "all" },
			floorNo : {value: "all"},
			unitNo: {value: "all"},
			zoneNo: {value: "all"},
			buildingNo: {value: "all"}
		},
		inputs: 1,
		outputs: 2,
		outputLabels: function (i) {
			var ret = "";
			switch (i) {
				case 0:
					return "Payload";
					break;
				case 1:
					return "Error";
					break;
				default:
					break;
			}
		},
		icon: "font-awesome/fa-bell",
		label:
			function () {
				var label = "Doorbell"
				if (this.name !== undefined && this.name.length > 0) {
					label = this.name;
				}
				return label;// + " " + this.status;
			},
		paletteLabel: function () {
			return "Doorbell";
		},
		oneditprepare: function () {
			var node = this;

			

		},
		oneditsave: function () {

		}
	});


</script>

<script type="text/x-red" data-template-name="hikvisionUltimateDoorbell">
	<div class="form-row">
		<b>Doorbell node</b>&nbsp&nbsp&nbsp&nbsp<span style="color:red"><i class="fa fa-question-circle"></i>&nbsp<a target="_blank" href="https://github.com/Supergiovane/node-red-contrib-hikvision-ultimate"><u>Help online</u></a></span>
        <br/>
		<br/>
		
		<label for="node-input-server">Server</label>
		<input type="text" id="node-input-server" />
	</div>
	<div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
	<div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> Node topic</label>
        <input type="text" id="node-input-topic" placeholder="Node's own topic">
	</div>

	<br/><b>FILTERS (the node will only react to these events)</b><br/><br/>
        
	<div class="form-row">
        <label for="node-input-ringStatus"><i class="fa fa-tasks"></i> Status</label>
		<select id="node-input-ringStatus">
			<option value="all">Any</option>
			<option value="ring">Ring only</option>
			<option value="oncall">On Call only</option>
		</select>
	</div>
	
	<div class="form-row">
        <label for="node-input-buildingNo"><i class="fa fa-tasks"></i> Building no.</label>
		<select id="node-input-buildingNo">
			<option value="all">Any building</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="8">9</option>
			<option value="10">10</option>
		</select>
	</div>
	<div class="form-row">
        <label for="node-input-floorNo"><i class="fa fa-tasks"></i> Floor no.</label>
		<select id="node-input-floorNo">
			<option value="all">Any floor</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="8">9</option>
			<option value="10">10</option>
		</select>
	</div>
	<div class="form-row">
        <label for="node-input-unitNo"><i class="fa fa-tasks"></i> Unit no.</label>
		<select id="node-input-unitNo">
			<option value="all">Any unit</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="8">9</option>
			<option value="10">10</option>
		</select>
	</div>
	<div class="form-row">
        <label for="node-input-zoneNo"><i class="fa fa-tasks"></i> Zone no.</label>
		<select id="node-input-zoneNo">
			<option value="all">Any zone</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="8">9</option>
			<option value="10">10</option>
		</select>
	</div>
  
</script>

<script type="text/x-red" data-help-name="hikvisionUltimateDoorbell">
	<p>
        <a href="https://www.paypal.me/techtoday" target="_blank"><img src='https://img.shields.io/badge/Donate-PayPal-blue.svg?style=flat-square' width='30%'></a>
        
	</p>
	<p>
		The node outputs a payload true/false and other detalis on PIN 1 and a connection ERROR on PIN 2 (true if the node is DISCONNECTED to the server, otherwise false IF IT'S RECONNECTED).
	</p>
	<p>
		For input, see the help link in the config window.
	</p>
	
</script>